{% extends 'base.html' %}

{% block page_title %}Forms{% endblock %}

{% block content %}
<div class="my-5">
    <a href="/add_form/{{user.id}}" class="link-body-emphasis">Click Here to Add Form</a>

    <!-- Field 1 -->
    {% for form in forms_data %}
    <div class="card mx-auto mt-4">
        <!-- Dynamic image URL or placeholder if not available -->
        <a href="/form_det/{{form.id}}"><img src="https://via.placeholder.com/400x200" class="card-img-top"
                alt="Field Image"></a>

        <div class="card-img-overlay">
            <!-- You can set badge dynamically based on some conditions, e.g., health of crops -->
            <span class="badge bg-success p-2">Good</span>
        </div>

        <div class="card-body d-flex justify-content-between align-items-center z-1">
            <div>
                <!-- Dynamic crop type and field size -->
                <a href="/form_det/{{form.id}}" class="card-title h5">{{ form.crop_type }}</a>
                <p class="card-text text-muted">{{ form.field_size }} Ha</p>
            </div>
            <div>
                <a href="{{ url_for('update_form', form_id=form.id) }}" class="btn btn-outline-secondary me-2">
                    <i class="fas fa-pencil-alt"></i>
                </a>
                <a href="{{ url_for('delete_form', form_id=form.id) }}" class="btn btn-outline-danger me-2">
                    <i class="fas fa-trash-alt"></i>
                </a>
            </div>
        </div>
    </div>
    {% endfor %}

    <!-- repeat this -->
</div>
{% endblock %}